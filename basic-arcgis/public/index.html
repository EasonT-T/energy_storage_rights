<!DOCTYPE html>
<html lang='en'>

<head>
  <title>ENERGY STORAGE</title>


  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="main.css">
  <link href='https://api.mapbox.com/mapbox-assembly/mbx/v0.18.0/assembly.min.css' rel='stylesheet'>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.39.1/mapbox-gl.css' rel='stylesheet' />

   <!-- side bar implement -->

   <style>
       html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }

   .sidenav {
    text-align: center;
    margin-top: 120px;
    margin-left: 81%;
    height: 100%;
    width: 400px;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color:rgba(255, 255, 255, 0.9);
    overflow-x: hidden;
    padding-top: 20px;
    padding-bottom: 20px;
  }

  .sidenav a {
    padding: 40px 20px 20px 16px;
    text-decoration: none;
    font-size: 25px;
    color: #818181;
    display: block;
  }

  .sidenav a:hover {
    color: #ffffff;
     background-color: rgba(5, 132, 216, 0.918);
  }


  .sidenav a.active {
    background-color: #4CAF50;
    color: white;
  }
  @media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
    .sidenav a {font-size: 18px;}
  }

 .sbutton {
    width: 303px;
    border-radius:5px;
    background-color:rgb(125, 186, 214);
    padding-top:-50px;
    margin-left:40px;
    font-family: Arial, Helvetica, sans-serif;
    overflow: hidden;
    list-style-type: none;
  }

  .sbutton a {
    text-decoration: none;
    float: left;
    color: #ffffff;
    text-align: center;
    padding: 20px 35px;
    font-size: 20px;
  }

  .sbutton a:hover {
    background-color: rgb(39, 129, 165);
    color: rgb(255, 255, 255);
  }

  .sbutton a.active {
    background-color: rgb(18, 144, 194);
    color: white;

  }
.embed-container {position: relative; padding-bottom: 80%; height: 0; max-width: 100%;}
.embed-container iframe,
.embed-container object,
 .embed-container
 iframe{position: absolute; top: 0; left: 0; width: 100%; height: 100%;}
  small{position: absolute; z-index: 40; bottom: 0; margin-bottom: -15px;}
   </style>

<!-- <link rel="stylesheet" href="https://js.arcgis.com/4.11/esri/css/main.css">
<link rel="stylesheet" type="text/css" href="main.css">
<script src="https://esrau.maps.arcgis.com/apps/Embed/index.html?webmap=b90567202ab649729c1b60e900f33048&extent=18.4297,-65.9323,180,18.6791&zoom=true&previewImage=false&scale=true&disable_scroll=true&theme=light"></script> -->
<link rel="stylesheet" href="https://js.arcgis.com/4.11/esri/css/main.css">
<link rel="stylesheet" type="text/css" href="main.css">
<script src="https://js.arcgis.com/4.11/"></script>

<script>
    require([
      "esri/Map",
      "esri/views/MapView",

      "esri/widgets/Search",

      "esri/layers/VectorTileLayer",

      "esri/widgets/Sketch",
      "esri/layers/GraphicsLayer",
      "esri/layers/FeatureLayer",
      "esri/layers/TileLayer",
      "esri/layers/WMTSLayer",
      "esri/layers/WMSLayer"


    ], function(Map, MapView, Search, VectorTileLayer, Sketch, GraphicsLayer, FeatureLayer, TileLayer, WMTSLayer, WMSLayer) {
      const base_layer = new GraphicsLayer();

      var map = new Map({
        basemap: "topo-vector"
      });
      map.add(base_layer);


      wind_layer = new TileLayer({
          url: "https://tiles.arcgis.com/tiles/Lhhlijt6OxVvJhC4/arcgis/rest/services/Wind_tile/MapServer"
      });

      map.add(wind_layer);
      wind_layer.visible = false;


      solar_layer = new TileLayer({
          url: "https://tiles.arcgis.com/tiles/ryycKNjqBGg4M7N9/arcgis/rest/services/Solar_Map_WTL1/MapServer"
      });

      map.add(solar_layer);
      solar_layer.visible = false;



      water_layer = new WMTSLayer({
        url: "https://storage.googleapis.com/global-surface-water/downloads_ancillary/WMTS_Global_Surface_Water.xml"
      });
      map.add(water_layer);
      water_layer.visible = false;



      energy_layer = new WMSLayer({
        url: "http://services.ga.gov.au/gis/services/Proximity_To_Transmission_Infrastructure_Lines_WM/MapServer/WMSServer"
        // sublayers: [{
        //   name: // name of the sublayer,
        //   legendUrl: // url to the legend
        // }]
      });
      map.add(energy_layer);
      energy_layer.visible = false;




      hydro_layer = new WMSLayer({
        url: "https://gis.aremi.data61.io/anu/wms"
      });
      map.add(hydro_layer);
      hydro_layer.visible = false;

      // const fl = new FeatureLayer({
      //   url: "https://tiles.arcgis.com/tiles/ryycKNjqBGg4M7N9/arcgis/rest/services/Wind_for_AU_NZ_ID_PNG_WTL1/MapServer/2a"
      //   });
      // map.add(fl);

      // <style>
      // .embed-container {
      //   position: relative;
      //   padding-bottom: 80%;
      //   height: 0; max-width: 100%;}
      // .embed-container iframe,
      // .embed-container object,
      // .embed-container iframe{
      //   position: absolute;
      //   top: 0;
      //   left: 0;
      //   width: 100%;
      //   height: 100%;}


      // small{
      //   position: absolute;
      //   z-index: 40;
      //   bottom: 0;
      //   margin-bottom: -15px;}
      // </style>
      // <div class="embed-container">
      //   <iframe width="500" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" title="Solar Insolation Map Global"
      //   src="//esrau.maps.arcgis.com/apps/Embed/index.html?webmap=2a38d472ceff42ceb5ea45a3dc29a878&extent=-180,-72.2486,180,72.9587&zoom=true&previewImage=false&scale=true&disable_scroll=true&theme=light">
      //   </iframe></div>

      var view = new MapView({
        container: "viewDiv",
        map: map,
        center: [147.71511,-36.09042],
        zoom: 3
      });

      var search = new Search({
      view: view
      });

      const sketch = new Sketch({
        layer: base_layer,
        view: view
        });

      view.ui.add(sketch, "top-right");

      view.ui.add(search, "top-right");

      view.on("click", function(evt){
      search.clear();
      view.popup.clear();
      if (search.activeSource) {
        var geocoder = search.activeSource.locator; // World geocode service
        geocoder.locationToAddress(evt.mapPoint)
          .then(function(response) { // Show the address found
            var address = response.address;
            showPopup(address, evt.mapPoint);
          }, function(err) { // Show no address found
            showPopup("No address found.", evt.mapPoint);
          });
      }
    });


      sketch.on("create", function(event) {
      if (event.state === "complete") {

        console.log(event.mapPoint.longitude);


      }
    });




      function showPopup(address, pt) {
        view.popup.open({
          title:  + Math.round(pt.longitude * 100000)/100000 + "," + Math.round(pt.latitude * 100000)/100000,
          content: address,
          location: pt
        });
      }

      // // Listen to sketch widget's create event.
      // sketch.on("create", function(event) {
      //   // check if the create event's state has changed to complete indicating
      //   // the graphic create operation is completed.
      //   if (event.state === "complete") {
      //     // remove the graphic from the layer. Sketch adds
      //     // the completed graphic to the layer by default.
      //     polygonGraphicsLayer.remove(event.graphic);

      //     // use the graphic.geometry to query features that intersect it
      //     selectFeatures(event.graphic.geometry);
      //   }
      // });



    });





  </script>
</head>
<body>
    <div class="topnav" style="padding: 2px 0px;">
        <ul>
          <li> <a class="active" href="index.html">Home</a> </li>
          <li> <a href="news.html ">News</a> </li>
          <li> <a href="contact.html">Contact</a></li>
          <li> <a href="about.html">About</a></li>
        </ul>
    </div>
    <div id="viewDiv"></div>



    <div class="sidenav" >
     <h1 style=" background-color:rgb(111, 198, 209);width:400px;text-align: center;
        font-size: 30px;  margin-top: -20px;padding: 18px; color:rgb(236, 235, 235)"> SELECT  AREA </h1>
      <a href="#about">Area Calculate</a>
      <a href="#services">Zoom</a>
      <a href="#contact">Map Fomat</a>

      <div class="option" style=" background-color:rgba(201, 225, 238, 0.822);height:150px;
      width:400px;text-align: center;padding:45px 5px;">

      <div class="sbutton" >
          <ul>
            <li> <a class="active" tag="#index">Polygon</a> </li>
            <li> <a tag="#news ">Ractangle</a> </li>
          </ul>

      </div>

      </div>



      <div style="padding:30px;color:rgb(255, 255, 255);background-color:rgba(11, 158, 238, 0.596);">
          <form action="" method="get;" style="padding:10px; font-size:20px;">
              <h1 style="padding-bottom:30px;font-size:30px;">CHOOSE ENERGY</h1>

                <label onclick="change_to_solar()"><input style="margin:10px;" name="e" type="checkbox" id="solar_button" value="" />SOLAR </label> <br />
                <label onclick="change_to_wind()"><input style="margin:10px;"name="e" type="checkbox" id="wind_button" value="" />WIND </label> <br />
                <label onclick="change_to_water()"><input style="margin:10px;"  name="e" type="checkbox" id="water_button" value="" />WATER</label> <br />
                <label onclick="change_to_energy()"><input style="margin:10px;"  name="e" type="checkbox" id="energy_button" value="" />Energy Grid</label> <br />
                <label onclick="change_to_hydro()"><input style="margin:10px;"  name="e" type="checkbox" id="hydro_button" value="" />Hydro</label> <br />

            </form>
        </div>


      <div >

          <p style="font-weight:30;font-size: 30px; color:#818181;padding: 35px;margin-left:-30px; ">
              OUTPUT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123kWH</p>



      </div>

      <a href="#about">About</a>
    </div>

    <script>

      function change_to_solar() {
        // Get the checkbox
        var checkBox = document.getElementById("solar_button");
        // If the checkbox is checked, display the layer
        if (checkBox.checked == true){
          solar_layer.visible = true;
        } else {
          solar_layer.visible = false;
        }
      }

      function change_to_wind(){
        // Get the checkbox
        var checkBox = document.getElementById("wind_button");
        // If the checkbox is checked, display the layer
        if (checkBox.checked == true){
          wind_layer.visible = true;
        } else {
          wind_layer.visible = false;
        }
      }

      function change_to_water(){
        // Get the checkbox
        var checkBox = document.getElementById("water_button");
        // If the checkbox is checked, display the layer
        if (checkBox.checked == true){
          water_layer.visible = true;
        } else {
          water_layer.visible = false;
        }
      }

      function change_to_energy(){
        // Get the checkbox
        var checkBox = document.getElementById("energy_button");
        // If the checkbox is checked, display the layer
        if (checkBox.checked == true){
          energy_layer.visible = true;
        } else {
          energy_layer.visible = false;
        }
      }

      function change_to_hydro(){
        // Get the checkbox
        var checkBox = document.getElementById("hydro_button");
        // If the checkbox is checked, display the layer
        if (checkBox.checked == true){
          hydro_layer.visible = true;
        } else {
          hydro_layer.visible = false;
        }
      }

    </script>




   </div>
</body>
</html>
